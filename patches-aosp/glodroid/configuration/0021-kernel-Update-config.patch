From 9e1da26b9ade863587092d6a88350ce6c6c8025c Mon Sep 17 00:00:00 2001
From: nojick <nojick@gmail.com>
Date: Sat, 12 Oct 2024 10:15:42 +0300
Subject: [PATCH] kernel: Update config

---
 platform/kernel/android-base.config        | 23 ++++++++--------------
 platform/kernel/android-recommended.config |  2 +-
 2 files changed, 9 insertions(+), 16 deletions(-)

diff --git a/platform/kernel/android-base.config b/platform/kernel/android-base.config
index 5ce4ef6..eca8813 100644
--- a/platform/kernel/android-base.config
+++ b/platform/kernel/android-base.config
@@ -13,10 +13,9 @@
 # CONFIG_RT_GROUP_SCHED is not set
 # CONFIG_SYSVIPC is not set
 # CONFIG_USELIB is not set
+# CONFIG_KALLSYMS_ALL is not set
 CONFIG_ADVISE_SYSCALLS=y
 CONFIG_AIO=y
-CONFIG_ANDROID=y
-CONFIG_ANDROID_BINDER_DEVICES="binder,hwbinder,vndbinder"
 CONFIG_ANDROID_BINDER_IPC=y
 CONFIG_ANDROID_BINDERFS=y
 CONFIG_ASHMEM=y
@@ -30,12 +29,16 @@ CONFIG_BLK_INLINE_ENCRYPTION=y
 CONFIG_BLOCK=y
 CONFIG_BPF_JIT=y
 CONFIG_BPF_SYSCALL=y
+CONFIG_BUG_ON_DATA_CORRUPTION=y
 CONFIG_CC_IS_CLANG=y
 CONFIG_CGROUPS=y
 CONFIG_CGROUP_BPF=y
 CONFIG_CGROUP_CPUACCT=y
 CONFIG_CGROUP_FREEZER=y
 CONFIG_CGROUP_SCHED=y
+CONFIG_CPU_FREQ=y
+CONFIG_CPU_FREQ_STAT=y
+CONFIG_CPU_FREQ_TIMES=y
 CONFIG_CROSS_MEMORY_ATTACH=y
 CONFIG_CRYPTO_AES=y
 CONFIG_CRYPTO_CBC=y
@@ -51,20 +54,18 @@ CONFIG_CRYPTO_SHA1=y
 CONFIG_CRYPTO_SHA256=y
 CONFIG_CRYPTO_SHA512=y
 CONFIG_CRYPTO_XCBC=y
-CONFIG_DEBUG_LIST=y
 CONFIG_DEFAULT_SECURITY_SELINUX=y
 CONFIG_DM_DEFAULT_KEY=y
 CONFIG_DM_SNAPSHOT=y
 CONFIG_DM_VERITY=y
 CONFIG_DUMMY=y
-CONFIG_EMBEDDED=y
 CONFIG_EPOLL=y
 CONFIG_EVENTFD=y
+CONFIG_EXPERT=y
 CONFIG_FILE_LOCKING=y
 CONFIG_FS_ENCRYPTION=y
 CONFIG_FS_ENCRYPTION_INLINE_CRYPT=y
 CONFIG_FS_VERITY=y
-CONFIG_FS_VERITY_BUILTIN_SIGNATURES=y
 CONFIG_FUSE_FS=y
 CONFIG_FUTEX=y
 CONFIG_HARDENED_USERCOPY=y
@@ -75,6 +76,7 @@ CONFIG_HIDRAW=y
 CONFIG_HID_SONY=y
 CONFIG_SONY_FF=y
 CONFIG_HIGH_RES_TIMERS=y
+CONFIG_IFB=y
 CONFIG_IKCONFIG=y
 CONFIG_IKCONFIG_PROC=y
 CONFIG_INET6_ESP=y
@@ -119,7 +121,6 @@ CONFIG_IP_NF_TARGET_NETMAP=y
 CONFIG_IP_NF_TARGET_REDIRECT=y
 CONFIG_IP_NF_TARGET_REJECT=y
 CONFIG_JOYSTICK_XPAD=y
-CONFIG_L2TP=y
 CONFIG_LD_IS_LLD=y
 CONFIG_MAGIC_SYSRQ=y
 CONFIG_MD=y
@@ -207,12 +208,6 @@ CONFIG_NO_HZ=y
 CONFIG_PACKET=y
 CONFIG_PM_WAKELOCKS=y
 CONFIG_POSIX_TIMERS=y
-CONFIG_PPP=y
-CONFIG_PPPOL2TP=y
-CONFIG_PPP_BSDCOMP=y
-CONFIG_PPP_DEFLATE=y
-CONFIG_PPP_MPPE=y
-CONFIG_PPTP=y
 CONFIG_PREEMPT=y
 CONFIG_PROC_FS=y
 CONFIG_PROFILING=y
@@ -253,13 +248,11 @@ CONFIG_UID_SYS_STATS=y
 CONFIG_UNIX=y
 CONFIG_USB=y
 CONFIG_USB_CONFIGFS=y
-CONFIG_USB_CONFIGFS_F_ACC=y
-CONFIG_USB_CONFIGFS_F_AUDIO_SRC=y
 CONFIG_USB_CONFIGFS_F_FS=y
 CONFIG_USB_CONFIGFS_F_MIDI=y
-CONFIG_USB_CONFIGFS_UEVENT=y
 CONFIG_USB_GADGET=y
 CONFIG_USB_SUPPORT=y
+CONFIG_ANDROID_USB_CONFIGFS_UEVENT=y
 CONFIG_UTS_NS=y
 CONFIG_VETH=y
 CONFIG_XFRM_INTERFACE=y
diff --git a/platform/kernel/android-recommended.config b/platform/kernel/android-recommended.config
index e63de8d..1eb9692 100644
--- a/platform/kernel/android-recommended.config
+++ b/platform/kernel/android-recommended.config
@@ -84,7 +84,7 @@ CONFIG_ION=y
 CONFIG_JOYSTICK_XPAD_FF=y
 CONFIG_JOYSTICK_XPAD_LEDS=y
 CONFIG_KALLSYMS=y
-CONFIG_KALLSYMS_ALL=y
+# CONFIG_KALLSYMS_ALL is not set
 CONFIG_KEYS=y
 CONFIG_LOGIG940_FF=y
 CONFIG_LOGIRUMBLEPAD2_FF=y
-- 
2.43.0

